<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="Forum">
	<select id="getObjectById" resultClass="net.iforums.beans.Forum" parameterClass="java.util.Map">
		SELECT JFORUM_FORUMS.*,(SELECT COUNT(1) FROM JFORUM_POSTS WHERE FORUM_ID=ID) TOTALPOSTS  
		FROM JFORUM_FORUMS 
		WHERE ID = #id#
	</select>
	<select id="select" resultClass="net.iforums.beans.Forum" parameterClass="java.util.Map">
		SELECT JFORUM_FORUMS.*,(SELECT COUNT(1) FROM JFORUM_POSTS WHERE FORUM_ID=ID) TOTALPOSTS 
		FROM JFORUM_FORUMS 
		ORDER BY 'ORDER' ASC LIMIT #startId#,#endId#
	</select>
	<select id="selectForumByCatId" resultClass="net.iforums.beans.Forum" parameterClass="java.util.Map">
		SELECT JFORUM_FORUMS.*,(SELECT COUNT(1) FROM JFORUM_POSTS WHERE FORUM_ID=ID) TOTALPOSTS 
		FROM JFORUM_FORUMS 
		WHERE CATID = #catId# 
		ORDER BY 'ORDER' ASC 
	</select>
	<delete id="deleteObjectById">
		DELETE FROM JFORUM_FORUMS WHERE ID = #id#
	</delete>
</sqlMap>